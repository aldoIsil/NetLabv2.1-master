@model Model.SolicitudExamen
@{
    //string classDatePicker = "form-control datepickerDesde datePickerWidth dateOnly";
    //var fechaTropismo = DateTime.Now;
    //var fechaObtencion = DateTime.Now;
    var tipo = Model.tipoSolicitud;
}
@using (Html.BeginForm("RegistroSolicitudTropismo", "SolicitudExamen", FormMethod.Get))
{
    <fieldset class="form">
        <legend class="form">Datos Clínicos</legend>
        <div class="div-row">
            @if (tipo == 2)
            {
                @Html.Label("Criterios para uso de la prueba genotípica de Tropismo de VIH", new { @class = "-label- col-xs-12 col-sm-12 col-md-1 col-lg-9" })
            }
            else
            {
                @Html.Label("Criterios para uso de la prueba de HLA B*5701", new { @class = "-label- col-xs-12 col-sm-12 col-md-1 col-lg-9" })
            }
        </div>
        <br />

        <div class="form-group" style="padding-left:20px;">
            <div class="row">
                <div class="col-sm-6 divWidth">
                    <span>
                        @*@Html.RadioButton("rbCriterio", "1", false)*@
                        <input class="criterio" name="criterio" type="radio" value="1" />
                    </span>
                    @if (tipo == 2)
                    {
                        <span>Evidencia de efectos adversos de los antirretrovirales</span>
                    }
                    else
                    {
                        <span>Determinar predisposición genética del paciente a hipersensibilidad por tratamiento con Abacavir</span>
                    }
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6">
                    <span>
                        @*@Html.RadioButton("rbCriterio", "2", false)*@
                        <input class="criterio" name="criterio" type="radio" value="2" />
                    </span>
                    @if (tipo == 2)
                    {
                        <span>Resistencia a varias clases de antirretrovirales (multiresistencia o panresistencia)</span>
                    }
                    else
                    {
                        <span>Decidir la inclusión de Abacavir en el nuevo esquema TAR</span>
                    }
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6">
                    <span>
                        <input class="criterio" name="criterio" type="radio" value="3" />
                    </span>
                    <span>Otros</span>
                </div>
            </div>
        </div>
        <br />
        @*<div class="div-row">
            @Html.Label("MODALIDAD DE LA PRUEBA DE TROPISMO (hacer click en el recuadro según corresponda)", new { @class = "-label- col-xs-12 col-sm-12 col-md-1 col-lg-9" })
        </div>
        <br />*@

        @*<div class="form-group" style="padding-left:20px;">
            <div class="row">
                <div class="col-sm-6 divWidth">
                    <input class="resultado" name="resultado" type="radio" value="arn" />
                    <span>Carga Viral es MAYOR de 1000 copias/ml</span>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6">
                    <input class="resultado" name="resultado" type="radio" value="adn" />
                    <span>Carga Viral es MENOR de 1000 copias/ml</span>
                </div>
            </div>
        </div>
        <br />*@

        @*<div id="divCargaViral" class="form-group" style="padding-left:20px;">
            <div class="div-row">
                @Html.Label("Código Orden:", new { @class = "control -label col-xs-12 col-sm-8 col-md-2 col-lg-2" })
                <div class="col-xs-12 col-sm-8 col-md-3 col-lg-2">
                    <span>@Html.Raw(Model.CodigoOrden)</span>
                </div>
            </div>

            @Html.Label("Carga Viral (copias/ml):", new { @class = " -label col-xs-12 col-sm-3 col-md-2 col-lg-2" })
            <div class="col-xs-12 col-sm-2 col-md-2 col-lg-3">
                <span>@Html.Raw(Model.Resultado.Resultado)</span>
            </div>
            @Html.Label("Fecha:", new { @class = " -label col-xs-12 col-sm-3 col-md-2 col-lg-1" })
            <div class="col-xs-12 col-sm-2 col-md-2 col-lg-1">
                <span>@Html.Raw(Model.Resultado.FechaHoraEmision.Substring(0, 10))</span>
            </div>
            <br /><br />
            <div>
                <span>La CV debe ser ≥1000 copias y la fecha de dicho resultado debe ser menor de 30 días para poder solicitar la prueba</span>
            </div>
            <input type="hidden" value="@Model.CodigoOrden" id="CodigoOrden" />
            <input type="hidden" value="@Model.Resultado.Resultado" id="resultadoCV" />
            <input type="hidden" value="@Model.Resultado.FechaHoraEmision.Substring(0, 10)" id="FechaHoraEmisionCV" />
        </div>
        <br /><br />*@
        <div id="divCD4" class="form-group" style="padding-left:20px;">
            @if (tipo == 2)
            {
                <span><b>ANALISIS DE ADN</b></span>
            }
            else
            {
                <span><b>ANALISIS DE ADN GENOMICO HUMANO</b></span>
            }
            <div class="div-row">
                @Html.Label("Código Orden:", new { @class = "control -label col-xs-12 col-sm-8 col-md-2 col-lg-2" })
                <div class="col-xs-12 col-sm-8 col-md-3 col-lg-2">
                    <span>@Html.Raw(Model.CodigoCD4)</span>
                </div>
            </div>

            @Html.Label("Valor del CD4:", new { @class = " -label col-xs-12 col-sm-3 col-md-2 col-lg-2" })
            <div class="col-xs-12 col-sm-2 col-md-2 col-lg-1">
                <span>@Html.Raw(Model.ResultadoCD4)</span>
            </div>
            @Html.Label("Fecha:", new { @class = " -label col-xs-12 col-sm-3 col-md-2 col-lg-1" })
            <div class="col-xs-12 col-sm-2 col-md-2 col-lg-1">
                <span>@Html.Raw(Model.FechaResultadoCD4)</span>
            </div>
            <br /><br />
            <span>El CD4 debe ser ≥ 50 células / uL y la fecha de dicho resultado debe ser menor IGUAL de 30 días para poder solicitar la prueba</span>
            <input type="hidden" value="@Model.ResultadoCD4" id="ResultadoCD4" />
            <input type="hidden" value="@Model.FechaResultadoCD4" id="FechaResultadoCD4" />
            <input type="hidden" value="@Model.CodigoCD4" name="CodigoOrden" />
            <input type="hidden" value="@Model.tipoSolicitud" name="tipoSolicitud" id="tipoSolicitud" />
        </div>

        <br /><br />
        @*<fieldset class="form">
            <div class="form-group">
                <div class="row">
                    @Html.Label("Fecha solicitud del exámen Tropismo: ", new { @class = "control -label col-xs-12 col-sm-8 col-md-2 col-lg-3" })
                    <div class="col-xs-12 col-sm-8 col-md-3 col-lg-2">
                        @Html.TextBox("fechaTropismo", fechaTropismo, new { id = "datepickerfechaTropismo", @class = classDatePicker, autocomplete = "off" })
                    </div>
                </div>
                <br />
                <div class="row">
                    @Html.Label("Fecha toma de muestra: ", new { @class = "control -label col-xs-12 col-sm-8 col-md-2 col-lg-3" })
                    <div class="col-xs-12 col-sm-8 col-md-3 col-lg-2">
                        @Html.TextBox("fechaObtencion", fechaObtencion, new { @id = "datepickerfechaObtencion", @class = classDatePicker, autocomplete = "off" })
                    </div>
                </div>
            </div>
        </fieldset>
        <br /><br />*@
        @*<fieldset class="form">
            <div class="col-xs-9 col-sm-8 col-md-3 col-lg-1">
                <button class="btn btn-primary btn-lg col-xs-offset-10" id="btnEnviarTropismo" value="Enviar"> Enviar</button>
            </div>
        </fieldset>*@
        <button class="btn btn-primary btn-lg col-xs-offset-10" id="btnEnviarTropismo" value="Enviar"> Enviar</button>
        <a class="btn btn-primary btn-lg col-xs-offset-10" href="javascript:window.history.back();">&laquo; Retroceder</a>
    </fieldset>
}
